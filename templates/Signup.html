<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign Up</title>
</head>
<style>
body { font-family: Arial, sans-serif; }
form { width: 300px; margin: auto; }
.form-group { margin-bottom: 15px; }
label { display: block; margin-bottom: 5px; }
input[type="text"],
input[type="email"],
input[type="password"],
input[type="date"],
input[type="number"] { width: 100%; padding: 10px; margin-top: 5px; }
input[type="submit"] { background: blue; color: white; padding: 10px 15px; border: none; cursor: pointer; }
input[type="submit"]:hover { background: darkblue; }
</style>
<body>

<form onsubmit="return handleSignUp(event)">
  <div class="form-group">
    <label for="first-name">First Name</label>
    <input type="text" id="first-name" required>
  </div>
  <div class="form-group">
    <label for="last-name">Last Name</label>
    <input type="text" id="last-name" required>
  </div>
  <div class="form-group">
    <label for="age">Age</label>
    <input type="number" id="age" required>
  </div>
  <div class="form-group">
    <label for="dob">Date of Birth</label>
    <input type="date" id="dob" required>
  </div>
  <div class="form-group">
    <label for="username">Username</label>
    <input type="text" id="username" required>
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" id="email" required>
  </div>
  <div class="form-group">
    <label for="phone-number">Phone Number</label>
    <input type="text" id="phone-number" required>
  </div>
  <div class="form-group">
    <label for="password">Password</label>
    <input type="password" id="password" required>
  </div>
  <div class="form-group">
    <label for="confirm-password">Confirm Password</label>
    <input type="password" id="confirm-password" required>
  </div>
  <div class="form-group">
    <label><input type="checkbox" required> I agree with the Terms & Conditions</label>
  </div>
  <input type="submit" value="Sign Up">
</form>
<script>
async function handleSignUp(event) {
  event.preventDefault(); // Prevent form submission

  const password = document.getElementById('password').value;
  const confirmPassword = document.getElementById('confirm-password').value;

  if (password !== confirmPassword) {
    alert('Passwords do not match!');
    return false;
  }

  const formData = {
    firstName: document.getElementById('first-name').value,
    lastName: document.getElementById('last-name').value,
    age: document.getElementById('age').value,
    dob: document.getElementById('dob').value,
    username: document.getElementById('username').value,
    email: document.getElementById('email').value,
    phoneNumber: document.getElementById('phone-number').value,
    password: password
  };

  const response = await fetch('/signup', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(formData),
  });

  const result = await response.json();

  if (result.success) {
    alert('Sign up successful');
    window.location.href = '/login';
  } else {
    alert('Error: ' + result.error);
  }
}
</script>

</body>
</html>
